<!DOCTYPE HTML>
<html lang="en">

<head>
  <title>ImagineMemory/Match</title>
  <meta charset="utf-8">
  <!--External CSS files-->
  <link rel="stylesheet" type="text/css" href="css/style.css" />
  <meta name="viewport" content="width=device-width">
  <script defer src="https://use.fontawesome.com/releases/v5.0.2/js/all.js"></script>
</head>
  <body>
    <section id="head">
      <section id="title">
       <h2>ImagineMemory</h2>
      </section>
      <ul id="nav-links">
        <p>Game Library</p>
        <li id="link-home">
          <a href="index.html">Home Page</a>
        </li>
      </ul>
    </section>

    <section id="rules">
      <h1>How to Play Match</h1>
      <section id="title-sec">
        <h2 id="titleT"></h2>
      </section>
      <section id="content-sec">
        <p id="contentT"></p>
      </section>
      <span id="prev" class="ruleArr" onclick="prevStep();"><i class="fas fa-angle-left"></i></span>
      <span id="next" class="ruleArr" onclick="nextStep();"><i class="fas fa-angle-right"></i></span>
      <span id="easy" onclick="easyGame();" class="dif">Easy</span>
      <span id="medi" onclick="mediGame();" class="dif">Medium</span>
      <span id="hard" onclick="hardGame();" class="dif">Hard</span>
    </section>

    <section id="stage">
      <span id="minutes"></span>:<span id="seconds"></span>
    </section>

    <section id="board">
      <script src="scripts/match.js"></script>
      <script>

      //remove function
        Element.prototype.remove = function() {
          this.parentElement.removeChild(this);
        }
        NodeList.prototype.remove = HTMLCollection.prototype.remove = function() {
          for(var i = this.length - 1; i >= 0; i--) {
            if(this[i] && this[i].parentElement) {
              this[i].parentElement.removeChild(this[i]);
            }
          }
        }

        function hardGame(){
          if (!document.getElementById("felt")) {
            console.log("foo");
            var game = new MatchGame("stage");
          } else {
            console.log("bar");
            document.getElementById("felt").remove();
            document.getElementById("exit").remove();
            var game = new MatchGame("stage");
          }
        }

        function mediGame(){
          if (!document.getElementById("felt")) {
            console.log("foo");
            var game = new MatchGameMedi("stage");
          } else {
            console.log("bar");
            document.getElementById("felt").remove();
            document.getElementById("exit").remove();
            var game = new MatchGameMedi("stage");
          }
        }

        function easyGame(){
          if (!document.getElementById("felt")) {
            console.log("foo");
            var game = new MatchGameEasy("stage");
          } else {
            console.log("bar");
            document.getElementById("felt").remove();
            document.getElementById("exit").remove();
            var game = new MatchGameEasy("stage");
          }
        }

      </script>
    </section>
  </body>

  <script>
    var titleText = "Step 1";
    var contentText = "Click the pack of card to start the game and the timer starts.";


    function updateHTML(id, text) {
      var elem = document.getElementById(id);
      elem.innerHTML=text;
    };

    window.onload = updateHTML('titleT', titleText), updateHTML('contentT', contentText);

    //elements
    var elemT = document.getElementById('titleT');
    var elemC = document.getElementById('contentT');

    //current steps
    var curStep = 0;

    //text
    var steps = [
      ['Step 1'],
      ['Step 2'],
      ['Step 3'],
      ['Step 4'],
      ['Step 5']
    ];
    var text = [
      ["Click the pack of card to start the game and the timer starts."],
      ["Once the cards are delt, click a card to flip it and show the shape on the card."],
      ["Click an other card to show the shape on that card."],
      ["If it's a match the selected cards go back to the deck. If the cards are not a match they flip back over."],
      ["Once all of the cards are matched the game ends and the timer stops. Try to get a shorter time to improve!"]
    ];

    function nextStep(){
      curStep++;
      if(curStep == steps.length) curStep = 0;
      document.getElementById("titleT").innerHTML = steps[curStep];
      document.getElementById("contentT").innerHTML = text[curStep];
      console.log("foo");
    };

    function prevStep(){
      curStep--;
      if(curStep == -1) curStep = 4;
      document.getElementById("titleT").innerHTML = steps[curStep];
      document.getElementById("contentT").innerHTML = text[curStep];
      console.log("bar");
    }
  </script>

</html>
